{
  "name": "NetStreams",
  "projectName": "NetStreams",
  "version": "3.0.6",
  "configuration": "Release",
  "description": "A Kafka library",
  "defaultPublishSource": "https://api.nuget.org/v3/index.json",
  "repository": {
    "type": "git",
    "url": "https://github.com/joelbrinkley/NetStreams.git"
  },
  "scripts": {
    "release": "standard-version",
    "pre-release": "standard-version --prerelease br",
    "clean": "rimraf dist build",
    "prebuild": "npm run clean",
    "build": "npm-run-all build:restore build:compile test package",
    "build:restore": "cross-env-shell globstar -- dotnet restore ./src/NetStreams.sln /p:Version=${npm_config_version_prefix:-${npm_package_version}}",
    "build:compile": "cross-env-shell globstar -- dotnet build ./src/NetStreams.sln --configuration release /p:Version=${npm_config_version_prefix:-${npm_package_version}}",
    "pretest": "npm run docker-up",
    "docker-up": "npm run docker-up:launch && npm-run-all docker-up:post-launch-config:*",
    "docker-up:launch": "cross-env-shell docker-compose --project-directory . up -d --remove-orphans",
    "docker-up:post-launch-config:create-user-broker": "cross-env-shell docker exec broker kafka-configs --zookeeper zookeeper:2181 --alter --add-config 'SCRAM-SHA-256=[password=broker],SCRAM-SHA-512=[password=broker]' --entity-type users --entity-name broker",
    "docker-up:post-launch-config:create-user-connect": "cross-env-shell docker exec broker kafka-configs --zookeeper zookeeper:2181 --alter --add-config 'SCRAM-SHA-256=[password=connect-secret],SCRAM-SHA-512=[password=connect-secret]' --entity-type users --entity-name connect",
    "docker-up:post-launch-config:create-user-schemaregistry": "cross-env-shell docker exec broker kafka-configs --zookeeper zookeeper:2181 --alter --add-config 'SCRAM-SHA-256=[password=schemaregistry-secret],SCRAM-SHA-512=[password=schemaregistry-secret]' --entity-type users --entity-name schemaregistry",
    "docker-up:post-launch-config:create-user-ksqldb": "cross-env-shell docker exec broker kafka-configs --zookeeper zookeeper:2181 --alter --add-config 'SCRAM-SHA-256=[password=ksqldb-secret],SCRAM-SHA-512=[password=ksqldb-secret]' --entity-type users --entity-name ksqldb",
    "docker-up:post-launch-config:create-user-client": "cross-env-shell docker exec broker kafka-configs --zookeeper zookeeper:2181 --alter --add-config 'SCRAM-SHA-256=[password=client-secret],SCRAM-SHA-512=[password=client-secret]' --entity-type users --entity-name client",
    "docker-up:post-launch-config:create-test-topic": "cross-env-shell docker exec broker kafka-topics --zookeeper zookeeper:2181 --create --topic test-topic --partitions 1 --replication-factor 1",
    "test": "npm-run-all test:wait:* && npm run test:run",
    "test:wait:broker-plaintext": "wait-on -t 60000 tcp:9092",
    "test:run": "cross-env-shell dotnet test --logger trx ./src/NetStreams.sln --no-build --configuration release -v n || npm run test:fail",
    "posttest": "npm run docker-down",
    "docker-down": "docker-compose --project-directory . down",
    "test:fail": "npm-run-all test:fail:*",
    "test:fail:notify": "echo \"An error occurred running the tests.\"",
    "test:fail:clean": "npm run posttest",
    "test:fail:halt": "exit -1",
    "package": "npm-run-all package:*",
    "package:netstreams": "cross-env-shell globstar -- dotnet pack \"./src/**/NetStreams.csproj\" -c release -o dist --include-symbols /p:VersionPrefix=${npm_config_version_prefix:-${npm_package_version}} --version-suffix=${npm_config_version_suffix}",
    "package:appinsights": "cross-env-shell globstar -- dotnet pack \"./src/**/NetStreams.ApplicationInsights.csproj\" -c release -o dist --include-symbols /p:VersionPrefix=${npm_config_version_prefix:-${npm_package_version}} --version-suffix=${npm_config_version_suffix}",
    "package:correlation": "cross-env-shell globstar -- dotnet pack \"./src/**/NetStreams.Correlation.csproj\" -c release -o dist --include-symbols /p:VersionPrefix=${npm_config_version_prefix:-${npm_package_version}} --version-suffix=${npm_config_version_suffix}",
    "package:serilog": "cross-env-shell globstar -- dotnet pack \"./src/**/NetStreams.Serilog.csproj\" -c release -o dist --include-symbols /p:VersionPrefix=${npm_config_version_prefix:-${npm_package_version}} --version-suffix=${npm_config_version_suffix}",
    "publish:nuget": "globstar -- dotnet nuget push dist/*.nupkg --source ${npm_package_defaultPublishSource} --api-key ${npm_config_api_key}  --skip-duplicate",
    "publish:private": "cross-env-shell copyfiles --flat --error dist/*.nupkg ${APPDATA}/Packages/"
  },
  "keywords": [
    "confluent",
    "kafka"
  ],
  "author": "NetStream Contributors",
  "license": "MIT",
  "private": true,
  "devDependencies": {
    "copyfiles": "^2.2.0",
    "cross-env": "github:yinzara/cross-env#pr/default-values",
    "globstar": "^1.0.0",
    "if-env-defined": "^1.0.0",
    "mkdirp": "^1.0.4",
    "npm-run-all": "^4.1.5",
    "rimraf": "^3.0.2",
    "standard-version": "^8.0.2",
    "wait-on": "^5.1.0"
  }
}
